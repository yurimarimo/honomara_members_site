{% extends "template.html" %}
{% import 'macro.html' as macro %}
{% block styles %}
{{ super() }}
<style>
  .row-eq-height {
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    flex-wrap: wrap;
  }

  .panel {
    height: 95%;
  }

  .btn-sm {
    margin: 2px 6px;
  }

</style>
{% endblock %}

{% block content %}
<div class="container">
  <div class="row">
    <div class="col-sm-12">
      <div class="page-header">
        <h1 id="tables">練習録
          {% if current_user.is_authenticated %}
          <a href="{{url_for('training_edit')}}" class="btn btn-primary">新規登録</a>
          {% endif %}
        </h1>
        <div class="bs-component">
          <ul class="pager">
            <li class="previous {{ "disabled" if not pagination.has_prev}}"><a href="{{url_for('training',page=pagination.prev_num) }}">&larr; Newer</a></li>
            <li>{{ pagination.page }}/{{ pagination.pages }}</li>
            <li class="next  {{ "disabled" if not pagination.has_next}}"><a href="{{url_for('training',page=pagination.next_num) }}">Older &rarr;</a></li>
          </ul>
        </div>
      </div>
      <div class="row row-eq-height">
        {% for training in pagination.items %}
        <div class="col-xs-12 col-sm-6">
          {{macro.training(training, current_user)}}
        </div>
        {% endfor %}
      </div>
      <div class="bs-component">
        <ul class="pager">
          <li class="previous {{ "disabled" if not pagination.has_prev}}"><a href="{{url_for('training',page=pagination.prev_num) }}">&larr; Newer</a></li>
          <li>{{ pagination.page }}/{{ pagination.pages }}</li>
          <li class="next  {{ "disabled" if not pagination.has_next}}"><a href="{{url_for('training',page=pagination.next_num) }}">Older &rarr;</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>
{% endblock %}
